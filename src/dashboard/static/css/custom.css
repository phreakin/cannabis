/* =============================================================================
   Cannabis Data Aggregator â€” Flask Entity Hub
   GitHub Dark palette + Fira Sans (UI) + Fira Code (data/tables/mono)
   Supplements Bootstrap 5 dark theme + base.html inline styles
   ============================================================================= */

/* ---------------------------------------------------------------------------
   Typography helpers
   --------------------------------------------------------------------------- */
.text-muted-sm {
  font-size: 0.75rem;
  color: #8b949e;
}

/* ---------------------------------------------------------------------------
   Code / JSON
   --------------------------------------------------------------------------- */
code {
  font-family: 'Fira Code', 'Cascadia Code', 'Consolas', monospace;
  font-size: 0.8em;
  padding: 0.12em 0.35em;
  border-radius: 4px;
  background: rgba(88,166,255,.12);
  color: #79c0ff;
  border: 1px solid rgba(88,166,255,.2);
}

.json-editor {
  font-family: 'Fira Code', 'Cascadia Code', monospace;
  font-size: 0.78rem;
  min-height: 80px;
  background: rgba(0,0,0,.3);
  border-color: #30363d;
  color: #e6edf3;
}
.json-editor:focus {
  background: rgba(0,0,0,.4);
  border-color: rgba(88,166,255,.5);
  box-shadow: 0 0 0 3px rgba(88,166,255,.1);
  color: #e6edf3;
}

/* Cron expression */
.cron-display {
  font-family: 'Fira Code', monospace;
  font-size: 0.82rem;
  background: rgba(255,255,255,.05);
  border: 1px solid #30363d;
  padding: 0.15em 0.5em;
  border-radius: 4px;
  color: #79c0ff;
}

/* ---------------------------------------------------------------------------
   Format badges (SODA / CSV / JSON etc.)
   --------------------------------------------------------------------------- */
.fmt-badge {
  display: inline-block;
  font-family: 'Fira Code', monospace;
  font-size: .65rem;
  font-weight: 600;
  padding: .12em .45em;
  border-radius: 4px;
  letter-spacing: .03em;
  text-transform: uppercase;
}
.fmt-soda    { background: rgba(88,166,255,.18);  color: #79c0ff;  border: 1px solid rgba(88,166,255,.3); }
.fmt-csv     { background: rgba(63,185,80,.18);   color: #56d364;  border: 1px solid rgba(63,185,80,.3); }
.fmt-json    { background: rgba(210,153,34,.18);  color: #e3b341;  border: 1px solid rgba(210,153,34,.3); }
.fmt-geojson { background: rgba(188,140,255,.18); color: #d2a8ff;  border: 1px solid rgba(188,140,255,.3); }
.fmt-xml     { background: rgba(248,81,73,.18);   color: #ff7b72;  border: 1px solid rgba(248,81,73,.3); }

/* ---------------------------------------------------------------------------
   Compact table action buttons
   --------------------------------------------------------------------------- */
.table .btn-xs {
  padding: .15rem .4rem;
  font-size: .73rem;
  line-height: 1.4;
}

/* ---------------------------------------------------------------------------
   Priority badges
   --------------------------------------------------------------------------- */
.priority-1 { color: #ff7b72; font-weight: 700; }
.priority-2 { color: #8b949e; }
.priority-3 { color: #484f58; }

/* ---------------------------------------------------------------------------
   Log viewer
   --------------------------------------------------------------------------- */
.log-level-INFO    { color: #e6edf3; }
.log-level-WARNING { color: #e3b341; }
.log-level-ERROR   { color: #ff7b72; font-weight: 600; }
.log-level-DEBUG   { color: #484f58; }

.log-message {
  font-family: 'Fira Code', 'Cascadia Code', monospace;
  font-size: .78rem;
  white-space: pre-wrap;
  word-break: break-word;
}
.log-details-toggle {
  font-size: .72rem;
  cursor: pointer;
  color: #8b949e;
}
.log-details-toggle:hover { color: #58a6ff; }

/* ---------------------------------------------------------------------------
   Data Browser filter bar
   --------------------------------------------------------------------------- */
.filter-bar {
  background: #161b22;
  border: 1px solid #30363d;
  border-radius: 8px;
  padding: .75rem 1rem;
  margin-bottom: 1rem;
}

/* ---------------------------------------------------------------------------
   Map
   --------------------------------------------------------------------------- */
#mapContainer {
  height: calc(100vh - 180px);
  min-height: 400px;
  border-radius: 8px;
  border: 1px solid #30363d;
  overflow: hidden;
}
.leaflet-popup-content-wrapper {
  background: #161b22;
  color: #e6edf3;
  border: 1px solid #30363d;
  font-size: 0.8rem;
  border-radius: 6px;
}
.leaflet-popup-tip { background: #161b22; }
.leaflet-popup-content p { margin: .2em 0; }

/* ---------------------------------------------------------------------------
   Alerts
   --------------------------------------------------------------------------- */
.alert { border-radius: 8px; font-size: .83rem; }
.alert-success { background: rgba(63,185,80,.1);  border-color: rgba(63,185,80,.25);  color: #56d364; }
.alert-danger  { background: rgba(248,81,73,.1);  border-color: rgba(248,81,73,.25);  color: #ff7b72; }
.alert-warning { background: rgba(210,153,34,.1); border-color: rgba(210,153,34,.25); color: #e3b341; }
.alert-info    { background: rgba(88,166,255,.1); border-color: rgba(88,166,255,.25); color: #79c0ff; }
.alert .btn-close { filter: invert(1) opacity(.5); }

/* ---------------------------------------------------------------------------
   Nav tabs
   --------------------------------------------------------------------------- */
.nav-tabs { border-bottom: 1px solid #21262d; }
.nav-tabs .nav-link {
  color: #8b949e;
  border: none;
  border-bottom: 2px solid transparent;
  padding: .5rem 1rem;
  font-size: .82rem;
  font-weight: 500;
  border-radius: 0;
  background: transparent;
  transition: color .15s, border-color .15s;
}
.nav-tabs .nav-link:hover { color: #e6edf3; }
.nav-tabs .nav-link.active { color: #79c0ff; border-bottom-color: #388bfd; background: transparent; }

/* ---------------------------------------------------------------------------
   DataTables dark overrides
   --------------------------------------------------------------------------- */
.dataTables_wrapper .dataTables_length,
.dataTables_wrapper .dataTables_filter,
.dataTables_wrapper .dataTables_info,
.dataTables_wrapper .dataTables_paginate {
  font-family: 'Fira Sans', sans-serif;
  font-size: 0.8rem;
  color: #8b949e;
}
.dataTables_wrapper .dataTables_filter input,
.dataTables_wrapper .dataTables_length select {
  background: rgba(255,255,255,.05);
  border: 1px solid #30363d;
  color: #e6edf3;
  border-radius: 5px;
  padding: 0.25rem 0.5rem;
}
.dataTables_wrapper .paginate_button {
  background: #161b22 !important;
  border: 1px solid #30363d !important;
  color: #8b949e !important;
  border-radius: 5px !important;
  padding: 0.25rem 0.6rem !important;
  font-size: 0.78rem !important;
}
.dataTables_wrapper .paginate_button:hover {
  background: rgba(255,255,255,.06) !important;
  color: #e6edf3 !important;
}
.dataTables_wrapper .paginate_button.current {
  background: rgba(56,139,253,.2) !important;
  border-color: rgba(56,139,253,.4) !important;
  color: #79c0ff !important;
}

/* ---------------------------------------------------------------------------
   Charts
   --------------------------------------------------------------------------- */
.chart-container { position: relative; }

/* ---------------------------------------------------------------------------
   Responsive
   --------------------------------------------------------------------------- */
@media (max-width: 768px) {
  .stat-card .stat-value { font-size: 1.4rem; }
  .topbar-title          { font-size: 0.85rem; }
  #mapContainer          { height: 55vh; }
}

/* ---------------------------------------------------------------------------
   Utilities
   --------------------------------------------------------------------------- */
.cursor-pointer { cursor: pointer; }
.text-mono {
  font-family: 'Fira Code', 'Cascadia Code', monospace;
  font-size: .82em;
}
.opacity-60 { opacity: .6; }
